<!--
  Following HTML contains the view of starting page of the apps
-->
<html>
  <head>
    <title>Math Solver</title>

    {% load static %}

    <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}" />
    <link rel="stylesheet" href="{% static 'css/main.css' %}" />
  </head>

  <body>
    <div class="container-fluid">
      <div class="row">
        <div class="col-12 col-lg-2"></div>

        <!-- Main Part of Problem Detection Loading Page -->
        <div class="col-12 col-lg-8 problem-detect-page-main-div">
          <h1 class="problem-detect-page-title">Image Uploaded!</h1>
          <div class="container-fluid">
            <div class="row">
              <div class="col-3"></div>
              <div class="problem-detect-page-problem-image-container col-6">
                <img class="problem-detect-page-problem-image" src="{{ image_path }}" alt="Problem Image" />
                <div class="problem-detect-page-scanner"></div>
              </div>
              <div class="col-3"></div>
            </div>
          </div>
          <h1 class="problem-detect-page-message-1">Now Scanning The Problem</h1>
          <h1 class="problem-detect-page-message-2">Please Wait</h1>

          <!-- Hidden element to trigger next loading screen  -->
          <form method="POST" action="{% url 'math_solver_app:extract_problem' %}">
            {% csrf_token %}
            <input type="text" name="file_name" value="{{ file_name }}" class="problem-detect-page-hidden-input" />
            <input type="text" name="topic_field" value="{{ topic_field }}" class="problem-detect-page-hidden-input" />
            <br /><button id="nextScreenButton" type="submit" class="btn-lg btn-primary problem-detect-page-hidden-button"></button>
          </form>

        </div>
        
        <div class="col-12 col-lg-2"></div>
      </div>
    </div>

    <!-- Javascript Code -->
    <script src="{% static 'js/bootstrap.min.js' %}"></script>
    <script>
      // Trigger next loading screen event when the page has been loaded
      window.onload = function() {
          // Get activation button
          var submitBtn = document.getElementById('nextScreenButton');

          // Click on the button
          submitBtn.click();
      };
    </script>

  </body>
</html>
